@model F4ConversationCloud.SuperAdmin.Models.ClientManagementViewModel

<div class="table-responsive">
    <table class="table user-table form-wrapper">
        <thead>
            <tr>
                <th>@Html.DisplayNameFor(model => model.Columns.SrNo)</th>
                <th>
                    @Html.DisplayNameFor(model => model.Columns.PhoneNumber)
                    <div class="input-group">
                        <input type="text" asp-for="PhoneNumberFilter" class="form-control srcIcon" placeholder="Search" id="searchInput">
                        <span class="searchIcon" onclick="loadData()"></span>
                    </div>
                </th>
                <th>
                    @Html.DisplayNameFor(model => model.Columns.ClientName)
                    <div class="input-group">
                        <input type="text" asp-for="ClientNameSearch" class="form-control srcIcon" placeholder="Search" id="searchInput">
                        <span class="searchIcon" onclick="loadData()"></span>
                    </div>
                </th>
                <th>
                    @Html.DisplayNameFor(model => model.Columns.CreatedAt)
                    <label class="datewrap" for="datepicker">
                        <input type="date" asp-for="OnboardingOnFilter"
                               class="form-control search-form-control"
                               placeholder="Select Date" onchange="loadData()" />
                    </label>
                </th>
                <th>
                    @Html.DisplayNameFor(model => model.Columns.Status)
                    <select asp-for="StatusFilter" class="form-select" onchange="loadData()">
                        <option value="" selected>Select Status</option>
                        <option value="Pending">Pending</option>
                        <option value="Connected">Connected</option>
                        <option value="Offline">Offline</option>
                    </select>
                </th>
            </tr>
        </thead>
        <tbody>
            @if (!Model.data.Any())
            {
                <tr>
                    <td colspan="6" class="text-center">No Records Found</td>
                </tr>
            }
            else
            {
                @foreach (var item in Model.data)
                {
                    <tr>
                        <td>@Html.DisplayFor(modelItem => item.SrNo)</td>
                        <td>
                            <form method="get" action="@Url.Action("ClientDetails", "ClientManagement", new { id = item.Id })">
                                <a method="get" asp-controller="ClientManagement" asp-action="ClientDetails" asp-route-id="@item.Id">@Html.DisplayFor(modelItem => item.PhoneNumber)</a>
                            </form>
                            <span class="buisness-category"><span class="fw-medium">Category :</span> @Html.DisplayFor(modelItem => item.Category)</span>
                            <span class="buisness-category"><span class="fw-medium">Client Id :</span> @Html.DisplayFor(modelItem => item.ClientId)</span>
                        </td>
                        <td>
                            @Html.DisplayFor(modelItem => item.ClientName)
                        </td>
                        <td>
                            <span class="date">@item.CreatedAt.ToString("dd MMM yyyy")</span>
                            <span class="datetime">at @item.CreatedAt.ToString("hh:mm tt")</span>
                        </td>
                        <td><span class="badge @(item.Status == "CONNECTED" ? "success" : "warning")">@Html.DisplayFor(modelItem => item.Status)</span></td>
                    </tr>
                }
            }
        </tbody>
    </table>
</div>
<partial name="_Pagination" model="new PaginationViewModel { PageNumber = Model.PageNumber, PageSize = Model.PageSize, TotalCount = Model.TotalCount }" />