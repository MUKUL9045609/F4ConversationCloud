@model F4ConversationCloud.SuperAdmin.Models.TemplateViewModel
@{
    this.ViewContext.FormContext = new FormContext();
    int index = ViewBag.Index ?? 0;
}

<div class="form-wrapper" id="variable-card-body">
    @if (Model != null && Model.bodyVariables.Any())
    {
        <label class="mt-3">Body</label>
        @for (int i = 0; i < Model.bodyVariables.Count; i++)
        {
            var number = Model.bodyVariables[i].BodyVariableValue.Replace("{", "").Replace("}", "");

            <div class="d-flex gap-2 mt-2 body-var-row" data-number="@number">
                <div class="small-input">
                    <input asp-for="bodyVariables[i].BodyVariableValue"
                           type="text"
                           class="form-control"
                           value="@Model.bodyVariables[i].BodyVariableValue"
                           disabled />
                </div>
                <div class="flex-grow-1">
                    <input asp-for="bodyVariables[i].BodyVariableName"
                           type="text"
                           class="form-control"
                           placeholder="Enter content for @Model.bodyVariables[i].BodyVariableValue" />
                    <div class="invalid-feedback mt-0">
                        <span asp-validation-for="bodyVariables[i].BodyVariableName" class="text-danger"></span>
                    </div>
                </div>
            </div>
        }
    }
</div>